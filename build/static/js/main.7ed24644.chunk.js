(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(73)},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a(44),o=a(38),i=a(7),s=a(8),u=a(10),m=a(9),p=a(11),b=a(14),d=a(13),h=a(18),g=a(17),E=a(40),v=a(41),j=a(19),O={jokes:null},f={isAuthenticated:!1,isLoading:!1,user:null},y=Object(g.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(j.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(j.a)({},e,{isLoading:!1,isAuthenticated:!0,user:t.payload});case"LOGIN_SUCCESS":return e.user=t.payload,localStorage.setItem("user",e.user),Object(j.a)({},e,t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":return localStorage.removeItem("user"),Object(j.a)({},e,{isLoading:!1,isAuthenticated:!1,user:null});default:return e}},jokes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_JOKES":return Object(j.a)({},e,{jokes:t.payload});default:return e}}}),k=[v.a],N=Object(g.createStore)(y,{},Object(E.composeWithDevTools)(g.applyMiddleware.apply(void 0,k))),S=a(45),C=Object(b.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(S.a)(e,["component","auth"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return a.isLoading?r.a.createElement("h2",null,"Loading..."):a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))}),A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(h.a,{to:"/joke"}):r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"You need to login to Crack Jokes!"))}}]),t}(n.Component),L=Object(b.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(A),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L,null))}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=(e.user,r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/joke",className:"nav-link navStyle"},"Crack Joke")),r.a.createElement("button",{onClick:this.props.logout,className:"nav-link btn btn-info btn-sm logout navStyle2"},"Logout"))),n=r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/login",className:"nav-link navStyle"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/register",className:"nav-link navStyle2"},"Register")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},t?a:n)))}}]),t}(n.Component),I=Object(b.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e,t){var a=localStorage.getItem("user");a&&e({type:"LOGOUT_SUCCESS",payload:a})}}})(D),R=a(23),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.onSubmit=function(e){e.preventDefault(),a.props.login(a.state.email,a.state.password)},a.onChange=function(e){return a.setState(Object(R.a)({},e.target.name,e.target.value))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return this.props.isAuthenticated?r.a.createElement(h.a,{to:"/joke"}):r.a.createElement("div",{className:"col-md-6 m-auto"},r.a.createElement("div",{className:"card card-body mt-5"},r.a.createElement("h2",{className:"text-center"},"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",onChange:this.onChange,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(d.b,{to:"/register"},"Register")))))}}]),t}(n.Component),U=Object(b.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(a){var n={};"joker@zaio.io"===e&&"zaiojoke"===t?(n.email=e,n.password=t,console.log(n),a({type:"LOGIN_SUCCESS",payload:n})):a({type:"LOGIN_FAIL"})}}})(_),T=a(43),x=a.n(T),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={joke:null},a.handleClick=function(e){e.preventDefault();x.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}}).then(function(e){a.setState({joke:e.data.joke})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.joke)),r.a.createElement("div",{className:"joke"},r.a.createElement("button",{onClick:this.handleClick,type:"button",className:"btn btn-info btn-circle btn-xl"},r.a.createElement("i",{className:"far fa-play-circle"}))))}}]),t}(n.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){N.dispatch(function(e,t){e({type:"USER_LOADING"});var a=localStorage.getItem("user");e(a?{type:"USER_LOADED",payload:a}:{type:"AUTH_ERROR"})})}},{key:"render",value:function(){return r.a.createElement(b.a,{store:N},r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(I,null),r.a.createElement("div",{className:"container"},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:w}),r.a.createElement(h.b,{exact:!0,path:"/login",component:U}),r.a.createElement(C,{exact:!0,path:"/joke",component:G}))))))}}]),t}(n.Component),F={position:"bottom center",timeout:5e3,offset:"30px",transition:"scale"};Object(c.render)(r.a.createElement(function(){return r.a.createElement(l.a,Object.assign({template:o.a},F),r.a.createElement(J,null))},null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7ed24644.chunk.js.map